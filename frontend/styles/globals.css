@tailwind base;
@tailwind components;
@tailwind utilities;

/* ── Custom utility classes (migrated from index.html) ── */
@layer utilities {
  .no-scrollbar::-webkit-scrollbar {
    display: none;
  }
  .no-scrollbar {
    -ms-overflow-style: none;
    scrollbar-width: none;
  }

  .neo-shadow {
    box-shadow: 0 8px 30px rgba(0, 0, 0, 0.06), 0 4px 10px rgba(0, 0, 0, 0.02);
  }

  .qa-card-3d {
    @apply bg-white dark:bg-card-dark rounded-card p-6 relative flex flex-col gap-4 border border-black/[0.03] dark:border-white/5 shadow-[0_10px_25px_-5px_rgba(0,0,0,0.04)] transition-all;
  }

  .input-shadow {
    box-shadow: inset 0 2px 4px rgba(0, 0, 0, 0.01), 0 4px 12px rgba(0, 0, 0, 0.03);
  }

  /* Claymorphic Dice Styles */
  .claymorphic-dice {
    background: linear-gradient(145deg, #b5a3ff, #8b76e0);
    box-shadow:
      inset 4px 4px 8px rgba(255, 255, 255, 0.4),
      inset -4px -4px 8px rgba(0, 0, 0, 0.2),
      0 10px 20px rgba(139, 118, 224, 0.4),
      0 15px 0px #6e59c7;
    border: 2px solid rgba(255, 255, 255, 0.2);
  }

  .dice-dot {
    background: white;
    box-shadow: inset 1px 1px 2px rgba(0, 0, 0, 0.3);
  }

  /* Glass tile styles */
  .glass-tile {
    position: relative;
    overflow: hidden;
  }

  .glass-overlay {
    position: absolute;
    inset: 0;
    background: linear-gradient(
      135deg,
      rgba(255, 255, 255, 0.4) 0%,
      rgba(255, 255, 255, 0) 50%,
      rgba(0, 0, 0, 0.05) 100%
    );
    pointer-events: none;
  }

  .tile-icon-sphere {
    @apply flex items-center justify-center relative overflow-hidden;
    width: 72px;
    height: 72px;
    border-radius: 24px;
  }

  /* Gold coin tile */
  .tile-gold {
    background: radial-gradient(circle at 30% 30%, #fcd34d, #f59e0b);
    box-shadow:
      inset 0 4px 8px rgba(255, 255, 255, 0.6),
      0 12px 20px -8px rgba(245, 158, 11, 0.3);
  }

  /* Dice tile - purple gradient */
  .tile-roll {
    background: radial-gradient(circle at 30% 30%, #a5b4fc, #818cf8);
    box-shadow:
      inset 0 4px 8px rgba(255, 255, 255, 0.6),
      0 12px 20px -8px rgba(129, 140, 248, 0.3);
  }

  /* Special reward tile - pink gradient */
  .tile-gift {
    background: radial-gradient(circle at 30% 30%, #fca5a5, #f87171);
    box-shadow:
      inset 0 4px 8px rgba(255, 255, 255, 0.6),
      0 12px 20px -8px rgba(248, 113, 113, 0.3);
  }

  /* XP tile - sky blue gradient */
  .tile-xp {
    background: radial-gradient(circle at 30% 30%, #7dd3fc, #38bdf8);
    box-shadow:
      inset 0 4px 8px rgba(255, 255, 255, 0.6),
      0 12px 20px -8px rgba(56, 189, 248, 0.3);
  }

  /* Soft-tone tile backgrounds */
  .bg-mute-gold {
    background-color: #fff9e6;
  }
  .bg-mute-purple {
    background-color: #f5f3ff;
  }
  .bg-mute-pink {
    background-color: #fff5f5;
  }
  .bg-mute-blue {
    background-color: #f0f9ff;
  }
}

/* ── Material Symbols icon rendering fix ── */
.material-symbols-rounded,
.material-symbols-outlined {
  font-weight: normal;
  font-style: normal;
  font-size: 24px;
  line-height: 1;
  letter-spacing: normal;
  text-transform: none;
  display: inline-block;
  white-space: nowrap;
  word-wrap: normal;
  direction: ltr;
  -webkit-font-feature-settings: 'liga';
  -webkit-font-smoothing: antialiased;
}

.material-symbols-rounded {
  font-family: 'Material Symbols Rounded' !important;
}

.material-symbols-outlined {
  font-family: 'Material Symbols Outlined' !important;
}

/* ── Base body styles ── */
body {
  @apply font-sans antialiased text-primary bg-white;
  -webkit-tap-highlight-color: transparent;
}

/* ── iOS Safari fullscreen optimization ── */
html,
body {
  width: 100%;
  height: 100%;
  height: calc(var(--vh, 1vh) * 100);
  margin: 0;
  padding: 0;
  overflow: auto;
  position: fixed;
  overscroll-behavior: none;
  touch-action: pan-y;
}

#root {
  width: 100%;
  height: 100%;
  height: calc(var(--vh, 1vh) * 100);
  margin: 0;
  padding: 0;
  overflow: auto;
  -webkit-overflow-scrolling: touch;
}

/* Prevent pinch-to-zoom */
* {
  touch-action: manipulation;
}

/* ── Animations (migrated from index.html <style>) ── */
@keyframes coin-bounce {
  0% {
    transform: scale(1);
  }
  50% {
    transform: scale(1.3);
  }
  100% {
    transform: scale(1);
  }
}

@keyframes shake-number {
  0%,
  100% {
    transform: translateX(0);
  }
  25% {
    transform: translateX(-3px);
  }
  50% {
    transform: translateX(0);
  }
  75% {
    transform: translateX(3px);
  }
}

@keyframes float-up {
  0% {
    opacity: 1;
    transform: translateY(0) scale(1);
  }
  100% {
    opacity: 0;
    transform: translateY(-40px) scale(1.2);
  }
}

@keyframes fade-out-left {
  0% {
    opacity: 1;
    transform: translateX(0) scale(1);
  }
  100% {
    opacity: 0;
    transform: translateX(-20px) scale(0.8);
  }
}

.animate-coin-bounce {
  animation: coin-bounce 0.6s cubic-bezier(0.68, -0.55, 0.265, 1.55) !important;
}

.animate-shake-number {
  animation: shake-number 0.5s ease-in-out !important;
}

.animate-float-up {
  animation: float-up 1s ease-out forwards !important;
}

.animate-fade-out-left {
  animation: fade-out-left 0.8s ease-out forwards !important;
}
